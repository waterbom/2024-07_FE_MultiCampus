<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>문자열</title>
</head>
<body>
    <script>
        let str = "프론트엔드 개발자 취업캠프";
        // 문자열의 길이
        let str_len = str.length;
        console.log(str_len);

        // 특정 위치 문자에 접근하기
        // 1]
        let str_third = str.charAt(3);
        console.log(str_third);
        // 2]
        let str_second = str[2];
        console.log(str_second);

        // [문자열 str]에서 [문자 ch]가 몇개 있는지 확인
        function findCount(str, ch) {
            let count = 0;
            // 반복문을 진행한다.
            // (for, i라는 변수에 위치정보(index)가.. 0 ~ 14까지 마지막 불포함)
            for (let i = 0; i < str.length; i++) {
                // console.log(i, str.charAt(i), );
                // 만약, 위치에 ch와 같은 것이 있다면..
                if (ch === str[i]) {
                    // count가 1 증가
                    count++;
                }
            }
            // 끝으로 count를 반환
            return count;
        }

        let findResult = findCount(str, '프');
        console.log(findResult); // 2

        // let str_input = prompt('문자열 입력해');
        // let ch_input = prompt('문자 입력해');
        // console.log(findCount(str_input, ch_input));
        

        // 부분 문자열의 위치 찾기
        let str_greeting = "Good morning, everyone. Beautiful morning.";
        let str_indexof = str_greeting.indexOf("morning");
        console.log(str_indexof); // 5
        let str_second_indexof = str_greeting.indexOf("morning", str_indexof + 1);
        console.log(str_second_indexof); // 34

        // 문자열 str에서 문자열 target이 몇 개 존재하는지 반환
        // ex. str = Good morning, everyone. Beautiful morning.
        // ex. target = morning
        function findCountStr(str, target) {
            let count = 0;
            // str.indexOf(target); // 5 => count = 1
            // str.indexOf(target, 5 + 1); // 34 => count = 1
            // str.indexOf(target, 34 + 1); // -1 ... 종료
            let position = str.indexOf(target);
            while (position != -1) {
                count++;
                position = str.indexOf(target, position + target.length); // target.length 더해주는 의미 확인
            }
            return count;
        }
        let lyrics = '문자로 콕콕콕콕콕콕 찍어서 보낸다';
        console.log(findCountStr(lyrics, '콕콕콕')); // 2

        // 문자열 str에서 문자열 target이 존재하는 n번째 위치를 반환
        function findTargetIndex(str, target, n) {
            let count = 0;
            let position = str.indexOf(target);
            while (position != -1) {
                count++; 
                if (count == n) {
                    return position;
                }
                position = str.indexOf(target, position + target.length);
            }
            return -1; // 찾지 못한 경우
        }
        findTargetIndex('Good morning, everyone. Beautiful morning.', 'morning', 2);

        // // recursive 👍👍👍
        // function findTargetIndex2(str, target, n) {
        //     if (n == 1) return str.indexOf(target);
        //     return str.indexOf(target, findTargetIndex2(str, target, n - 1) + target.length);
        // }
        // console.log(findTargetIndex2(str_greeting, 'morning', 2));

        let url_addr = 'https://naver.com';

        function url_chk(str) {
            if (!str.startsWith('http://') && !str.startsWith('https://')) {
                console.log('url 주소는 http:// 또는 https:// 로 시작해야 합니다.');
            }
        }
        url_chk(url_addr);

        // 앞뒤 공백
        let space_str = " 안녕 반가워  ";
        console.log(space_str.trim(), space_str.trim().length);
        console.log(space_str.trimStart(), space_str.trimStart().length);
        console.log(space_str.trimEnd(), space_str.trimEnd().length);

        // 대소문자 바꾸기
        let msg = " Good Morning ";
        console.log(msg.toUpperCase());
        console.log(msg.toLowerCase());
    </script>
</body>
</html>